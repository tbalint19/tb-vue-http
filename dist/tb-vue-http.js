!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("tb-vue-http",[],e):"object"==typeof exports?exports["tb-vue-http"]=e():t["tb-vue-http"]=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e);var s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.url=e,this.domainHeaders=n}var e,n,s;return e=t,(n=[{key:"isFunction",value:function(t){return"[object Function]"==Object.prototype.toString.call(t)}},{key:"get",value:function(e,n){var r=this;return new Promise(function(s,a){null==n&&(n=Object.assign({},t.DEFAULT_HEADERS));var o=r.createRequest("GET",r.url+e,[r.domainHeaders,n]);o.onreadystatechange=function(){4==this.readyState&&200==this.status?"application/json"==n["Content-type"]?s(JSON.parse(o.responseText)):s(o.responseText):4==this.readyState&&204!==this.status?s(o):4==this.readyState&&200!==this.status&&a({status:this.status,response:this.responseText})},o.send()})}},{key:"post",value:function(e,n,r){var s=this;return new Promise(function(a,o){null==r&&(r=Object.assign({},t.DEFAULT_HEADERS));var i=s.createRequest("POST",s.url+e,[s.domainHeaders,r]);i.onreadystatechange=function(){4==this.readyState&&200==this.status?"application/json"==r["Content-type"]?a(JSON.parse(i.responseText)):a(i.responseText):4==this.readyState&&204!==this.status?a(i):4==this.readyState&&200!==this.status&&o({status:this.status,response:this.responseText})};var u="application/json"==r["Content-type"]?JSON.stringify(n):n;i.send(u)})}},{key:"put",value:function(e,n,r){var s=this;return new Promise(function(a,o){null==r&&(r=Object.assign({},t.DEFAULT_HEADERS));var i=s.createRequest("PUT",s.url+e,[s.domainHeaders,r]);i.onreadystatechange=function(){4==this.readyState&&200==this.status?"application/json"==r["Content-type"]?a(JSON.parse(i.responseText)):a(i.responseText):4==this.readyState&&204!==this.status?a(i):4==this.readyState&&200!==this.status&&o({status:this.status,response:this.responseText})};var u="application/json"==r["Content-type"]?JSON.stringify(n):n;i.send(u)})}},{key:"del",value:function(e,n){var r=this;return new Promise(function(s,a){null==n&&(n=Object.assign({},t.DEFAULT_HEADERS));var o=r.createRequest("DELETE",r.url+e,[r.domainHeaders,n]);o.onreadystatechange=function(){4==this.readyState&&200==this.status?"application/json"==n["Content-type"]?s(JSON.parse(o.responseText)):s(o.responseText):4==this.readyState&&204!==this.status?s(o):4==this.readyState&&200!==this.status&&a({status:this.status,response:this.responseText})},o.send()})}},{key:"createRequest",value:function(t,e,n){var r=new XMLHttpRequest;return r.open(t,e,!0),this.addHeaders(r,n),r}},{key:"addHeaders",value:function(t,e){var n=!0,r=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var i=a.value;for(var u in i){var c=i[u];this.isFunction(c)?t.setRequestHeader(u,c()):t.setRequestHeader(u,c)}}}catch(t){r=!0,s=t}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}}}])&&r(e.prototype,n),s&&r(e,s),t}();function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}s.DEFAULT_HEADERS={"Content-type":"application/json"},n.d(e,"default",function(){return o});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"install",value:function(e,n){n.forEach(function(n){var r="$"+n.name;t[n.name]=new s(n.url,n.headers),e.prototype[r]=t[n.name]})}}],(n=null)&&a(e.prototype,n),r&&a(e,r),t}()}])});